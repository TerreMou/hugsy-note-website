webpackJsonp([3],{"/PjT":function(e,s,t){e.exports=t.p+"static/img/hugsy.f2b92eb.png"},"9bBU":function(e,s,t){t("mClu");var r=t("FeBl").Object;e.exports=function(e,s,t){return r.defineProperty(e,s,t)}},C4MV:function(e,s,t){e.exports={default:t("9bBU"),__esModule:!0}},bOdI:function(e,s,t){"use strict";s.__esModule=!0;var r,n=t("C4MV"),i=(r=n)&&r.__esModule?r:{default:r};s.default=function(e,s,t){return s in e?(0,i.default)(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}},hwCx:function(e,s){},jqYz:function(e,s){},mClu:function(e,s,t){var r=t("kM2E");r(r.S+r.F*!t("+E39"),"Object",{defineProperty:t("evD5").f})},qkow:function(e,s,t){"use strict";var r=t("bOdI"),n=t.n(r),i={props:{theme:{type:String,default:"default"},size:{type:String,default:"default"}},computed:{classes:function(){var e;return e={},n()(e,""+this.theme,this.theme),n()(e,""+this.size,this.size),e}}},o={render:function(){var e=this.$createElement;return(this._self._c||e)("button",{staticClass:"hugsy-button",class:this.classes},[this._t("default")],2)},staticRenderFns:[]};var a=t("VU/8")(i,o,!1,function(e){t("hwCx")},null,null);s.a=a.exports},xJsL:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=t("Dd8w"),n=t.n(r),i=t("qkow"),o=t("NYxO"),a={name:"Login",components:{Button:i.a},data:function(){return{registerVisible:!1,loginVisible:!0,usernameIsError:!1,passwordIsError:!1,usernameMsg:"用户名长度为 1~15 位字符，支持字母、数字、下划线、汉字",passwordMsg:"密码长度需为 6~16 位字符",register:{username:"",password:"",isError:!1,notice:""},login:{username:"",password:"",isError:!1,notice:""}}},methods:n()({},Object(o.b)({loginUser:"login",registerUser:"register"}),{showLogin:function(){this.registerVisible=!1,this.loginVisible=!0},showRegister:function(){this.registerVisible=!0,this.loginVisible=!1},validateUsername:function(e){this.usernameIsError=!/^[\w\u4e00-\u9fa5]{3,15}$/.test(e)},validatePassword:function(e){this.passwordIsError=!/^.{6,16}$/.test(e)},onRegister:function(){var e=this;this.registerUser({username:this.register.username,password:this.register.password}).then(function(){e.register.isError=!1,e.$router.push({path:"/notebooks"})}).catch(function(s){e.register.isError=!0,e.register.notice=s.msg})},onLogin:function(){var e=this;this.loginUser({username:this.login.username,password:this.login.password}).then(function(){e.login.isError=!1,e.$router.push({path:"/notebooks"})}).catch(function(s){e.login.isError=!0,e.login.notice=s.msg})}})},u={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"login"}},[t("div",{staticClass:"modal-mask"},[t("div",{staticClass:"modal-wrapper"},[t("div",{staticClass:"modal-container"},[t("div",{staticClass:"form"},[e._m(0),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.registerVisible,expression:"registerVisible"}],staticClass:"register"},[t("h3",[e._v("用户名")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.register.username,expression:"register.username"}],attrs:{type:"text",placeholder:"支持字母、数字、下划线、汉字"},domProps:{value:e.register.username},on:{input:[function(s){s.target.composing||e.$set(e.register,"username",s.target.value)},function(s){return e.validateUsername(e.register.username)}]}}),e._v(" "),t("h3",[e._v("密码")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.register.password,expression:"register.password"}],attrs:{type:"password",placeholder:"至少为 6 位字符"},domProps:{value:e.register.password},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.onRegister.apply(null,arguments)},input:[function(s){s.target.composing||e.$set(e.register,"password",s.target.value)},function(s){return e.validatePassword(e.register.password)}]}}),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.usernameIsError,expression:"usernameIsError"}]},[e._v(e._s(e.usernameMsg))]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.passwordIsError,expression:"passwordIsError"}]},[e._v(e._s(e.passwordMsg))]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.register.isError,expression:"register.isError"}]},[e._v(e._s(e.register.notice))]),e._v(" "),t("div",{staticClass:"buttons"},[t("div",{staticClass:"buttons-text"},[t("span",[e._v("已经拥有账户？")]),e._v(" "),t("Button",{attrs:{theme:"text"},nativeOn:{click:function(s){return e.showLogin.apply(null,arguments)}}},[e._v("登录")])],1),e._v(" "),t("Button",{nativeOn:{click:function(s){return e.onRegister.apply(null,arguments)}}},[e._v("创建账户")])],1)]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.loginVisible,expression:"loginVisible"}],staticClass:"login"},[t("h3",[e._v("用户名")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.login.username,expression:"login.username"}],attrs:{type:"text"},domProps:{value:e.login.username},on:{input:[function(s){s.target.composing||e.$set(e.login,"username",s.target.value)},function(s){return e.validateUsername(e.login.username)}]}}),e._v(" "),t("h3",[e._v("密码")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],attrs:{type:"password"},domProps:{value:e.login.password},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.onLogin.apply(null,arguments)},input:[function(s){s.target.composing||e.$set(e.login,"password",s.target.value)},function(s){return e.validatePassword(e.login.password)}]}}),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.usernameIsError,expression:"usernameIsError"}]},[e._v(e._s(e.usernameMsg))]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.login.isError,expression:"login.isError"}]},[e._v(e._s(e.login.notice))]),e._v(" "),t("div",{staticClass:"buttons"},[t("div",{staticClass:"buttons-text"},[t("span",[e._v("没有账户？")]),e._v(" "),t("Button",{attrs:{theme:"text"},nativeOn:{click:function(s){return e.showRegister.apply(null,arguments)}}},[e._v("创建账户")])],1),e._v(" "),t("Button",{nativeOn:{click:function(s){return e.onLogin.apply(null,arguments)}}},[e._v("登录")])],1)])])])])])])},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"logo"},[s("img",{attrs:{src:t("/PjT"),alt:""}})])}]};var l=t("VU/8")(a,u,!1,function(e){t("jqYz")},"data-v-4dae9dca",null);s.default=l.exports}});
//# sourceMappingURL=3.bacde0c77a1cee912d3d.js.map